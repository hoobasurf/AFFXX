import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";
import { getAuth } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

const auth = getAuth();
const db = getFirestore();

async function afficherProfils() {
  const currentUser = auth.currentUser;
  const querySnapshot = await getDocs(collection(db, "users"));

  querySnapshot.forEach((doc) => {
    if (doc.id !== currentUser.uid) { // Exclure le profil connecté
      const profil = doc.data();
      if (profil.email !== "neela@example.com") { // Exclure "Neela" si jamais
        // Affiche le profil dans ton DOM
        console.log(profil);
      }
    }
  });
}

auth.onAuthStateChanged(user => {
  if (user) {
    afficherProfils();
  } else {
    console.log("Utilisateur non connecté");
  }
});
